webpackJsonp([11],{AJ7E:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("router-view",{attrs:{name:"header"}}),this._v(" "),e("router-view"),this._v(" "),e("router-view",{attrs:{name:"footer"}})],1)},staticRenderFns:[]};var u,c,s=n("VU/8")({name:"App"},r,!1,function(t){n("AJ7E")},null,null).exports,a=n("mtWM"),i=n.n(a),p=n("Rf8U"),h=n.n(p),d=n("/ocq"),f=n("bOdI"),l=n.n(f),m=n("Dd8w"),_=n.n(m),C=n("NYxO"),T=(n("424j"),n("mvHQ")),O=n.n(T),A={state:{shops:[],chooseType:{},chooseTypeIndex:0,chooseShop:{},chooseProduct:{},productCache:{},isEjectChooseType:!1},getters:{products:function(t){return t.chooseType.products}},mutations:(u={},l()(u,"LOAD_SHOP_LIST",function(t,e){t.shops=e.list}),l()(u,"LOAD_SHOP_TYPE",function(t,e){t.chooseShop=t.shops[e]}),l()(u,"LOAD_PRODUCT_TYPE",function(t,e){t.chooseType=t.chooseShop.types[e],t.chooseTypeIndex=e}),l()(u,"LOAD_PRODUCT_DETAIL",function(t,e){t.chooseProduct=this.getters.products[e],this.commit("PRODUCT_CACHE")}),l()(u,"SHOW_CHOOSE_TYPE",function(t,e){t.isEjectChooseType=e}),l()(u,"PRODUCT_CACHE",function(t){t.productCache=JSON.parse(O()(t.chooseProduct)),o.a.set(t.productCache,"count",1)}),l()(u,"CHANGE_PRODUCT_COUNT",function(t,e){o.a.set(t.productCache,"count",e)}),l()(u,"CART_PRODUCT_ALLPRICE",function(t,e){o.a.set(t.productCache,"allPrice",Math.ceil(100*e)/100)}),l()(u,"CHANGE_PRODUCT_CACHE",function(t,e){var n=e.key,r=e.value;o.a.set(t.productCache,n,r)}),u),actions:l()({},"LOAD_SHOP_LIST",function(t){var e=t.commit;if(0===t.state.shops.length)return o.a.axios({url:"https://119.23.212.109/api/shopList",method:"get"}).then(function(t){return e("LOAD_SHOP_LIST",t.data)}).catch(function(t){return console.log(t)})})},v={state:{cartShops:[]},mutations:(c={},l()(c,"ADD_TO_CART",function(t,e){var n=t.cartShops;return n.every(function(t){return t.shopID!==e.shopID})?n.push(e):n=n.map(function(t){return t.products.every(function(t){return t.productID!==e.products[0].productID||t.type!==e.products[0].type})?t.products.push(e.products[0]):t.products.forEach(function(n,o){n.productID===e.products[0].productID&&n.type===e.products[0].type&&(t.products[o].count+=e.products[0].count)}),t}),n}),l()(c,"CHANGE_CART_PRODUCT_DATA",function(t,e){var n=e.shopIndex,r=e.productIndex,u=e.prop,c=e.val;o.a.set(t.cartShops[n].products[r],u,c)}),l()(c,"SHOP_ALL_CHECK",function(t,e){var n=e.shopIndex,o=e.val;this.state.cartShops[n].checked=o}),l()(c,"CLEAR_CART",function(t){this.state.cartShops=null}),c)};o.a.use(C.a);var D=new C.a.Store({strict:!1,state:_()({},A.state,v.state,{hasLogin:!1}),getters:_()({},A.getters),mutations:_()({},A.mutations,v.mutations,l()({},"CHANGE_LOGIN_TOKEN",function(t){t.hasLogin=!0})),actions:_()({},A.actions)}),E=function(){return n.e(8).then(n.bind(null,"UzLt"))},L=function(){return n.e(7).then(n.bind(null,"NH3f"))};o.a.use(d.a);var S=new d.a({base:"/",routes:[{path:"/",name:"电商",alias:"/index",components:{default:function(){return n.e(0).then(n.bind(null,"8hXn"))},header:E,footer:L}},{path:"/shop",name:"商店",components:{default:function(){return n.e(1).then(n.bind(null,"9sln"))},header:E,footer:L}},{path:"/user",name:"用户管理",components:{default:function(){return n.e(4).then(n.bind(null,"nXOw"))},header:E,footer:L}},{path:"/order",name:"订单管理",components:{default:function(){return n.e(5).then(n.bind(null,"vF69"))},header:E,footer:L}},{path:"/product",name:"产品详情",components:{default:function(){return n.e(2).then(n.bind(null,"pGxt"))},header:E}},{path:"/cart",name:"购物车",components:{default:function(){return n.e(3).then(n.bind(null,"5bqY"))},header:E}},{path:"/login",name:"登陆",components:{default:function(){return n.e(6).then(n.bind(null,"Quw4"))},header:E}},{path:"/pay",name:"付款",components:{default:function(){return n.e(9).then(n.bind(null,"1xec"))},header:E}}]});o.a.config.productionTip=!1,o.a.use(h.a,i.a),new o.a({el:"#app",components:{App:s},router:S,store:D,template:"<App/>",methods:{setHTMLFontSize:function(){var t=document.documentElement.clientWidth||document.body.clientWidth;return document.documentElement.style.fontSize=t/3.75+"px",t}},created:function(){var t=this;t.setHTMLFontSize(),window.addEventListener("resize",function(){t.setHTMLFontSize()})}})}},["NHnr"]);
//# sourceMappingURL=app.e06b51c23c9f57d5d901.js.map