{"version":3,"sources":["webpack:///src/views/order.vue","webpack:///./src/views/order.vue?fb7f","webpack:///./src/views/order.vue"],"names":["order","name","data","orders","computed","noOrders","this","length","methods","loadOrders","_this","$store","state","hasLogin","axios","url","method","un","then","res","catch","err","console","error","$router","push","delOrder","_id","_this2","log","created","views_order","render","_vm","_h","$createElement","_c","_self","staticClass","_l","key","_v","_s","time","shop","shopIndex","shopID","attrs","to","product","productID","src","picSrc","count","type","allPrice","directives","rawName","value","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"0HAgDA,IAAAA,GACAC,KAAA,KACAC,KAFA,WAGA,OACAC,YAGAC,UACAC,SADA,WAEA,OAAAC,KAAAH,OAAAI,SAGAC,SACAC,WADA,WACA,IAAAC,EAAAJ,KACAA,KAAAK,OAAAC,MAAAC,SACAP,KAAAQ,OACAC,IAAA,iBACAC,OAAA,OACAd,MACAe,GAAAX,KAAAK,OAAAC,MAAAK,MAEAC,KAAA,SAAAC,GACAT,EAAAP,OAAAgB,EAAAjB,KAAAC,SACAiB,MAAA,SAAAC,GAAA,OAAAC,QAAAC,MAAAF,KAEAf,KAAAkB,QAAAC,KAAA,WAGAC,SAhBA,SAgBAC,GAAA,IAAAC,EAAAtB,KACAgB,QAAAO,IAAAF,GACArB,KAAAQ,OACAC,IAAA,eACAC,OAAA,OACAd,MACAe,GAAAX,KAAAK,OAAAC,MAAAK,GACAU,SAGAT,KAAA,SAAAC,GACA,KAAAA,EAAAjB,KAAA0B,EAAAnB,aAAAa,QAAAO,IAAA,UAEAT,MAAA,SAAAC,GAAA,OAAAC,QAAAC,MAAAF,OAGAS,QA5CA,WA6CAxB,KAAAG,eC1FAsB,GADiBC,OAFjB,WAA0B,IAAAC,EAAA3B,KAAa4B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAqBL,EAAAM,GAAAN,EAAA,gBAAAjC,GAAsC,OAAAoC,EAAA,OAAiBI,IAAAxC,EAAA2B,IAAAW,YAAA,eAAuCF,EAAA,OAAAA,EAAA,OAAsBE,YAAA,eAAyBF,EAAA,KAAUE,YAAA,aAAuBL,EAAAQ,GAAA,OAAAR,EAAAQ,GAAAR,EAAAS,GAAA1C,EAAA2C,WAAAV,EAAAQ,GAAA,KAAAL,EAAA,OAAqEE,YAAA,aAAwBL,EAAAM,GAAAvC,EAAA,eAAA4C,EAAAC,GAA+C,OAAAT,EAAA,OAAiBI,IAAAI,EAAAE,OAAAR,YAAA,cAAwCF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,eAAoBE,YAAA,YAAAS,OAA+BC,GAAA,SAAAH,EAAA,aAAAD,EAAA3C,QAAsDmC,EAAA,KAAUE,YAAA,aAAuBL,EAAAQ,GAAA,OAAAR,EAAAQ,GAAAR,EAAAS,GAAAE,EAAA3C,UAAA,GAAAgC,EAAAQ,GAAA,KAAAL,EAAA,KAAAH,EAAAM,GAAAK,EAAA,kBAAAK,GAA6G,OAAAb,EAAA,MAAgBI,IAAAS,EAAAC,UAAAZ,YAAA,iBAAiDF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,cAAAS,OAAiCI,IAAAF,EAAAG,YAAsBnB,EAAAQ,GAAA,KAAAL,EAAA,OAA0BE,YAAA,mBAA6BF,EAAA,QAAaE,YAAA,iBAA2BL,EAAAQ,GAAAR,EAAAS,GAAAO,EAAAhD,SAAAmC,EAAA,QAAAH,EAAAQ,GAAA,KAAAR,EAAAS,GAAAO,EAAAI,UAAApB,EAAAQ,GAAA,KAAAL,EAAA,OAAuGE,YAAA,uBAAiCF,EAAA,QAAAH,EAAAQ,GAAAR,EAAAS,GAAAO,EAAAK,WAAArB,EAAAQ,GAAA,KAAAL,EAAA,OAAoEE,YAAA,sBAAgCL,EAAAQ,GAAAR,EAAAS,GAAAO,EAAAM,6BAAmDtB,EAAAQ,GAAA,KAAAL,EAAA,OAAwBoB,aAAavD,KAAA,OAAAwD,QAAA,SAAAC,MAAAzB,EAAA,SAAA0B,WAAA,aAAwErB,YAAA,mBAA+BF,EAAA,KAAUE,YAAA,aAAuBL,EAAAQ,GAAA,uBAEh9CmB,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA/D,EACA+B,GATA,EAVA,SAAAiC,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/6.0b6a00c9c6655d16a961.js","sourcesContent":["<template>\r\n<div class=\"orders\">\r\n  <div :key=\"order._id\" v-for=\"order in orders\" class=\"order-list\">\r\n    <div>\r\n      <div class=\"order-time\"><i class=\"iconfont\">&#xe6ed;</i>{{order.time}}</div>\r\n      <!-- <div @click=\"delOrder(order._id)\">删除</div> -->\r\n    </div>\r\n      <div class=\"shop-list\">\r\n        <div :key=\"shop.shopID\" v-for=\"(shop, shopIndex) in order.shops\" class=\"list-shop\">\r\n\r\n          <!-- 不同的店列表 -->\r\n          <div class=\"shop-module\">\r\n            <router-link :to=\"'/shop/' + shopIndex + '?headName=' + shop.name\" class=\"shop-name\"><i class=\"iconfont\">&#xe601;</i>{{shop.name}}</router-link>\r\n          </div>\r\n\r\n          <!-- 同一家店的商品列表 -->\r\n          <ul>\r\n            <li :key=\"product.productID\" v-for=\"product in shop.products\" class=\"list-product\">\r\n\r\n              <div class=\"pic-wrap\">\r\n                <img :src=\"product.picSrc\" class=\"preview-pic\">\r\n              </div>\r\n\r\n              <div class=\"product-module\">\r\n                <span class=\"product-name\">{{product.name}}</span><span> x{{product.count}}</span>\r\n                <div class=\"choose-type btn--a\">\r\n                  <span>{{product.type}}</span>\r\n                </div>\r\n                <div class=\"product-all-price\">{{product.allPrice}}</div>\r\n              </div>\r\n\r\n            </li>\r\n          </ul>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 无订单提示 -->\r\n    <div v-show=\"noOrders\" class=\"no-product-tip\">\r\n      <p class=\"tip-text\">你的订单列表空空如也</p>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: '订单',\r\n    data(){\r\n      return {\r\n        orders: []\r\n      }\r\n    },\r\n    computed:{\r\n      noOrders(){\r\n        return !this.orders.length;\r\n      }\r\n    },\r\n    methods:{\r\n      loadOrders(){\r\n        if(this.$store.state.hasLogin){\r\n          this.axios({\r\n            url: 'order/download',\r\n            method: 'post',\r\n            data: {\r\n              un: this.$store.state.un\r\n            }\r\n          }).then(res => {\r\n            this.orders = res.data.orders;\r\n          }).catch(err => console.error(err));\r\n        } else {\r\n          this.$router.push('/login');\r\n        }\r\n      },\r\n      delOrder(_id){\r\n        console.log(_id);\r\n        this.axios({\r\n          url: 'order/delete',\r\n          method: 'post',\r\n          data: {\r\n            un: this.$store.state.un,\r\n            _id\r\n          }\r\n        })\r\n          .then(res => {\r\n            res.data == 200 ? this.loadOrders() : console.log('删除失败') \r\n          })\r\n          .catch(err => console.error(err));\r\n      }\r\n    },\r\n    created(){\r\n      this.loadOrders();\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n.orders {\r\n  height: calc(100vh - .8rem);\r\n  overflow: auto;\r\n}\r\n\r\n.order-list {\r\n  margin: .1rem 0;\r\n}\r\n\r\n.order-time {\r\n  font-size: 20px;\r\n  line-height: 2;\r\n  text-align: center;\r\n  color: #7298f7;\r\n  background-color: #fff;\r\n}\r\n\r\n.cart-list {\r\n  margin-bottom: .4rem;\r\n}\r\n\r\n.list-shop {\r\n  margin: auto;\r\n  font-size: 16px;\r\n  border-top: 1px #6288f7 solid;\r\n  background-color: white;\r\n}\r\n\r\n.shop-module {\r\n  padding: .1rem;\r\n  font-size: 20px;\r\n  display: flex;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.checkbox {\r\n  font-size: 20px;\r\n  margin: auto 0;\r\n}\r\n\r\n.input-choose {\r\n  display: none;\r\n}\r\n\r\n.choose-label {\r\n  height: .15rem;\r\n  width: .15rem;\r\n  display: inline-block;\r\n  background-color: #fff;\r\n  border: 1px solid gray;\r\n  border-radius: 50%;\r\n}\r\n\r\n.input-choose:checked + .choose-label {\r\n  background-color: #6288f7;\r\n}\r\n\r\n.shop-name {\r\n  margin-left: .5em;\r\n  display: inline-block;\r\n}\r\n\r\n.icon--go {\r\n  margin-left: .5em;\r\n}\r\n\r\n.list-product {\r\n  padding: .1rem;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.list-product + .list-product {\r\n  border-top: 1px solid #ddd;\r\n}\r\n\r\n.pic-wrap {\r\n  margin: auto;\r\n  margin-left: .5em;\r\n}\r\n\r\n.preview-pic {\r\n  height: 1rem;\r\n  width: 1rem;\r\n}\r\n\r\n.product-module {\r\n  margin: auto;\r\n  padding: 0 1em;\r\n  font-size: 18px;\r\n  display: inline-block;\r\n  flex-grow: 1;\r\n}\r\n\r\n.choose-type {\r\n  margin: 1em auto;\r\n  background-color: #ddd;\r\n}\r\n\r\n.btn-del {\r\n  margin-left: 1em;\r\n  padding: .5em;\r\n  font-size: 20px;\r\n  line-height: 1;\r\n  color: white;\r\n  background-color: red;\r\n}\r\n\r\n.payment-module {\r\n  height: .4rem;\r\n  position: fixed;\r\n  display: flex;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background-color: white;\r\n  text-align: center;\r\n}\r\n\r\n.product-all-price {\r\n  width: 60%;\r\n  margin: auto 0;\r\n  font-size: 25px;\r\n  line-height: .4rem;\r\n  flex-grow: 1;\r\n  display: inline-block;\r\n  white-space: nowrap;\r\n  color: red;\r\n}\r\n\r\n.product-all-price::after {\r\n  content: \"元\";\r\n}\r\n\r\n.payment {\r\n  margin: auto;\r\n  line-height: .4rem;\r\n  color: white;\r\n  background-color: red;\r\n  flex-grow: 1;\r\n}\r\n\r\n.no-product-tip {\r\n  height: 3rem;\r\n  margin: auto;\r\n  padding: ;\r\n  & .tip-text {\r\n    text-align: center;\r\n    font-size: 30px;\r\n    line-height: 3rem;\r\n    vertical-align: middle;\r\n    color: #aaa;\r\n  }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orders\"},[_vm._l((_vm.orders),function(order){return _c('div',{key:order._id,staticClass:\"order-list\"},[_c('div',[_c('div',{staticClass:\"order-time\"},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(_vm._s(order.time))])]),_vm._v(\" \"),_c('div',{staticClass:\"shop-list\"},_vm._l((order.shops),function(shop,shopIndex){return _c('div',{key:shop.shopID,staticClass:\"list-shop\"},[_c('div',{staticClass:\"shop-module\"},[_c('router-link',{staticClass:\"shop-name\",attrs:{\"to\":'/shop/' + shopIndex + '?headName=' + shop.name}},[_c('i',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_vm._v(_vm._s(shop.name))])],1),_vm._v(\" \"),_c('ul',_vm._l((shop.products),function(product){return _c('li',{key:product.productID,staticClass:\"list-product\"},[_c('div',{staticClass:\"pic-wrap\"},[_c('img',{staticClass:\"preview-pic\",attrs:{\"src\":product.picSrc}})]),_vm._v(\" \"),_c('div',{staticClass:\"product-module\"},[_c('span',{staticClass:\"product-name\"},[_vm._v(_vm._s(product.name))]),_c('span',[_vm._v(\" x\"+_vm._s(product.count))]),_vm._v(\" \"),_c('div',{staticClass:\"choose-type btn--a\"},[_c('span',[_vm._v(_vm._s(product.type))])]),_vm._v(\" \"),_c('div',{staticClass:\"product-all-price\"},[_vm._v(_vm._s(product.allPrice))])])])}))])}))])}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noOrders),expression:\"noOrders\"}],staticClass:\"no-product-tip\"},[_c('p',{staticClass:\"tip-text\"},[_vm._v(\"你的订单列表空空如也\")])])],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-aa6a40a2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/order.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-aa6a40a2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./order.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-aa6a40a2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-aa6a40a2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/order.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}