{"version":3,"sources":["webpack:///./src/App.vue?82e5","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/api/api.js","webpack:///./src/vuex/shop/shop.js","webpack:///./src/vuex/cart/cart.js","webpack:///./src/vuex/user/user.js","webpack:///./src/vuex/store.js","webpack:///./src/router/router.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","name","_v","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","api_api","a","create","baseURL","shop","state","shops","chooseType","chooseTypeIndex","chooseShop","chooseProduct","productCache","isEjectChooseType","getters","products","mutations","defineProperty_default","data","list","_mutations","ShopIndex","typeIndex","types","productIndex","commit","val","JSON","parse","stringify_default","vue_esm","set","Math","ceil","_ref","key","value","actions","_ref2","length","axios","url","method","then","res","catch","err","console","error","cart","cartShops","cart__mutations","every","cartShop","shopID","push","map","cartProduct","productID","type","forEach","cpi","count","shopIndex","prop","splice","_ref3","user","hasLogin","user__mutations","use","vuex_esm","vuex_store","Store","strict","extends_default","header","e","bind","footer","vue_router_esm","router","base","routes","path","alias","components","default","props","beforeEnter","to","from","next","params","beforeEach","log","router_router","config","productionTip","vue_axios_min_default","el","App","store","template","methods","setHTMLFontSize","HTMLClientWidth","document","documentElement","clientWidth","body","style","fontSize","created","window","addEventListener"],"mappings":"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","file":"static/js/app.2683fb84b615c16f3912.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view',{attrs:{\"name\":\"header\"}}),_vm._v(\" \"),_c('router-view'),_vm._v(\" \"),_c('router-view',{attrs:{\"name\":\"footer\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2889565e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2889565e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2889565e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <router-view name=\"header\"></router-view>\n    <router-view></router-view>\n    <router-view name=\"footer\"></router-view>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\"\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n  /* CSS重置 */\n  body,\n  p,\n  ul,\n  button,\n  input,\n  h1,h2,h3,h4,h5,h6 {\n    padding: 0;\n    margin: 0;\n    font-weight: 400;\n  }\n  \n  body {\n    margin: .4rem auto 0;\n    font-size: 16px;\n    background-color: rgba(0,0,0,0.1);\n  }\n\n  ul,li {\n    list-style: none;\n  }\n\n  a {\n    text-decoration: none;\n  }\n\n  button {\n    align-items: flex-start;\n    text-align: center;\n    cursor: pointer;\n    background-color: white;\n    box-sizing: border-box;\n    border: none;\n  }\n\n  button:active {\n    border-style: none;\n  }\n\n  input {\n    border: none;\n  }\n\n  input:focus {\n    outline-offset: 0;\n  }\n\n  /*通用样式*/\n  a {\n    color: black;\n    display: block;\n    cursor: pointer;\n  }\n\n  .bgcolor-blue {\n    background-color: #6288f7;\n  }\n\n  /* 阿里字体图标 */\n  .iconfont{\n    font-family:\"iconfont\" !important;\n    font-style:normal;\n    -webkit-font-smoothing: antialiased;\n    -webkit-text-stroke-width: 0.2px;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  @font-face {\n    font-family: 'iconfont';  /* project id 836978 */\n    src: url('//at.alicdn.com/t/font_836978_6q048da1h76.eot');\n    src: url('//at.alicdn.com/t/font_836978_6q048da1h76.eot?#iefix') format('embedded-opentype'),\n    url('//at.alicdn.com/t/font_836978_6q048da1h76.woff') format('woff'),\n    url('//at.alicdn.com/t/font_836978_6q048da1h76.ttf') format('truetype'),\n    url('//at.alicdn.com/t/font_836978_6q048da1h76.svg#iconfont') format('svg');\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import axios from 'axios'\r\nconst api = axios.create({\r\n  baseURL: 'https://www.easy-mock.com/mock/5ba0b39d3b920159b7a83c2d/api'\r\n  // baseURL: 'http://119.23.212.109/api'\r\n})\r\nexport default api\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api.js","\r\nimport Vue from 'vue'\r\nimport api from '@/api/api'\r\nexport default {\r\n  state: {\r\n    shops: [],                  //商铺列表\r\n    chooseType: {},             //选择类型\r\n    chooseTypeIndex: 0,         \r\n    chooseShop: {},             //选择店铺\r\n    chooseProduct: {},          //选择产品\r\n    productCache: {},            //将要加入购物车的产品\r\n    isEjectChooseType: false    //产品页面弹出类型选择菜单\r\n  },\r\n  getters: {\r\n    /*选择产品类型的产品列表*/\r\n    products(state){ \r\n      return state.chooseType.products;\r\n    },\r\n  },\r\n  mutations: {\r\n    /*读取商店列表*/\r\n    ['LOAD_SHOP_LIST'] (state, data) {\r\n      state.shops = data.list;\r\n    },\r\n    /*读取商店列表的产品类型列表*/\r\n    ['LOAD_SHOP_TYPE'] (state, ShopIndex) {\r\n      state.chooseShop = state.shops[ShopIndex];\r\n    },\r\n    /*读取选择产品类型的产品列表*/\r\n    ['LOAD_PRODUCT_TYPE'] (state, typeIndex) {\r\n      state.chooseType = state.chooseShop.types[typeIndex];\r\n      state.chooseTypeIndex = typeIndex;\r\n    },\r\n    /*读取选择的产品*/\r\n    ['LOAD_PRODUCT_DETAIL'] (state, productIndex) {\r\n      state.chooseProduct = this.getters.products[productIndex];\r\n      this.commit('PRODUCT_CACHE');\r\n    },\r\n    /*弹出产品选择类型的菜单*/\r\n    ['SHOW_CHOOSE_TYPE'] (state, val) {\r\n      state.isEjectChooseType = val;\r\n    },\r\n    /*将选择产品缓存，准备推入购物车*/\r\n    ['PRODUCT_CACHE'] (state) {\r\n       state.productCache = JSON.parse(JSON.stringify(state.chooseProduct));\r\n       Vue.set(state.productCache,'count',1);\r\n    },\r\n    /*改变产品数量*/\r\n    ['CHANGE_PRODUCT_COUNT'] (state, val) {\r\n      Vue.set(state.productCache,'count',val);\r\n    },\r\n    /*改变产品总价格*/\r\n    ['CART_PRODUCT_ALLPRICE'] (state, val) {\r\n      Vue.set(state.productCache,'allPrice', Math.ceil(100 * val) / 100);\r\n    },\r\n    ['CHANGE_PRODUCT_CACHE'] (state, {key, value}) {\r\n      Vue.set(state.productCache,key,value);\r\n    },\r\n  },\r\n  actions: {\r\n    /*请求商店数据*/\r\n    ['LOAD_SHOP_LIST']({commit,state}) {\r\n      if(state.shops.length === 0)\r\n        return Vue.axios({\r\n          // url:'http://119.23.212.109/api/shopList',\r\n          url:'/shopList',\r\n          method: 'get'\r\n         })\r\n         .then( res => commit( 'LOAD_SHOP_LIST', res.data ))\r\n         .catch( err => console.error( err ));\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/shop/shop.js","import Vue from 'vue'\r\nexport default {\r\n  state: {\r\n    cartShops:[]\r\n  },\r\n  mutations:{\r\n    /*商品添加进购物车*/\r\n    ['ADD_TO_CART'] (state, shop) {\r\n      const _self = this;\r\n      let cartShops = state.cartShops;\r\n\r\n      /*没重复的店直接推进数组*/\r\n      if(cartShops.every(cartShop => cartShop.shopID !== shop.shopID)) \r\n        cartShops.push(shop); \r\n\r\n      /*否则迭代检测商品是否相同*/\r\n      else {\r\n        cartShops = cartShops.map(cartShop => {\r\n            /*没有重复商品，直接推商品*/\r\n            if(cartShop.products.every(cartProduct => (\r\n              cartProduct.productID !== shop.products[0].productID) ||\r\n                (cartProduct.type !== shop.products[0].type)))\r\n              cartShop.products.push(shop.products[0]);\r\n\r\n            /*同一店，重复商品则数目加一*/\r\n            else cartShop.products.forEach((cartProduct, cpi) => {\r\n              if((cartProduct.productID === shop.products[0].productID) &&\r\n                (cartProduct.type === shop.products[0].type))\r\n                cartShop.products[cpi].count += shop.products[0].count;\r\n            })\r\n          return cartShop;\r\n        })\r\n      }\r\n      return cartShops;\r\n    },\r\n\r\n    /*修改某商品状态*/\r\n    ['CHANGE_CART_PRODUCT_DATA'] (state, {shopIndex, productIndex, prop, val}) {\r\n      Vue.set(state.cartShops[shopIndex].products[productIndex], prop, val);\r\n    },\r\n    /*如果购物车某商店商品全选，则该商店全选按钮也变成全选*/\r\n    ['SHOP_ALL_CHECK'] (state, {shopIndex, val}) {\r\n      Vue.set(this.state.cartShops[shopIndex], 'checked', val);\r\n    },\r\n    /*清空某商店*/\r\n    ['DEL_CART_SHOP'] (state, shopIndex) {\r\n      this.state.cartShops.splice(shopIndex, 1);\r\n    },\r\n    /*清空某商品*/\r\n    ['DEL_CART_PRODUCT'] (state, {shopIndex, productIndex}) {\r\n      this.state.cartShops[shopIndex].products.splice(productIndex, 1);\r\n    },\r\n    /*清空购物车*/\r\n    ['CLEAR_CART'] (state) {\r\n      this.state.cartShops = null;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/cart/cart.js","export default {\r\n  state: {\r\n    hasLogin: false,\r\n    name: ''\r\n  },\r\n  mutations: {\r\n    ['CHANGE_LOGIN_TOKEN'](state) {\r\n      state.hasLogin = true;\r\n    },\r\n    ['LOAD_USERNAME'](state, name) {\r\n      state.name = name;\r\n    },\r\n    ['LOGOUT'] (state) {\r\n      state.name = '';\r\n      state.hasLogin = false;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/user/user.js","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2018-08-04 21:43:39\r\n * @version $Id$\r\n */\r\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport persistedState from \"vuex-persistedstate\";\r\nimport shop from '@/vuex/shop/shop'\r\nimport cart from '@/vuex/cart/cart'\r\nimport user from '@/vuex/user/user'\r\nVue.use(Vuex);\r\n\r\nconst store = new Vuex.Store({\r\n  strict: process.env.NODE_ENV !== 'production',\r\n  state:{\r\n    ...shop.state,\r\n    ...cart.state,\r\n    ...user.state,\r\n  },\r\n  getters:{\r\n    ...shop.getters,\r\n  },\r\n  mutations:{\r\n    ...shop.mutations,\r\n    ...cart.mutations,\r\n    ...user.mutations,\r\n  },\r\n  actions:{\r\n    ...shop.actions\r\n  },  \r\n  // plugins:[persistedState()]\r\n});\r\nexport default store;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","/**\r\n * \r\n * @authors Your Name (you@example.org)\r\n * @date    2018-09-07 14:20:43\r\n * @version $Id$\r\n */\r\n\r\nimport Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport store from '@/vuex/store'\r\n\r\nconst index = () => import('@/views/index');\r\nconst user = () => import('@/views/user');\r\nconst shop = () => import('@/views/shop');\r\nconst order = () => import('@/views/order');\r\nconst product = () => import('@/views/product');\r\nconst cart = () => import('@/views/cart');\r\nconst login = () => import('@/views/login');\r\nconst register = () => import('@/views/register')\r\nconst pay = () => import('@/views/pay');\r\nconst header = () => import('@/components/v-header');\r\nconst footer = () => import('@/components/v-footer');\r\n\r\nVue.use(VueRouter);\r\nconst router = new VueRouter({\r\n  base:'/',\r\n  routes:[{\r\n    path:'/',\r\n    name:'电商',\r\n    alias:'/index',\r\n    components: {\r\n      default: index,\r\n      header: header,\r\n      footer: footer\r\n    }\r\n  }, {\r\n    path: '/shop/:shopIndex',\r\n    name: '商店',\r\n    props: {\r\n      default: true,\r\n      header: false,\r\n      footer: false\r\n    },\r\n    components: {\r\n      default: shop,\r\n      header: header,\r\n      footer: footer\r\n    }, \r\n    beforeEnter(to, from, next){\r\n      store.commit('LOAD_SHOP_TYPE',to.params.shopIndex);\r\n      next();\r\n    }  \r\n  }, {\r\n    path: '/user',\r\n    name: '用户管理',\r\n    components: {\r\n      default: user,\r\n      header: header,\r\n      footer: footer\r\n    }\r\n  }, {\r\n    path: '/order',\r\n    name: '订单管理',\r\n    components: {\r\n      default: order,\r\n      header: header,\r\n      footer: footer\r\n    }\r\n  }, {\r\n      name: '商品',\r\n      path:'/shop/:shopIndex/product/:productIndex',\r\n      components: {\r\n        default: product,\r\n        header: header\r\n      },\r\n      beforeEnter (to, from, next) {\r\n        store.commit('LOAD_SHOP_TYPE',to.params.shopIndex);\r\n        store.commit('LOAD_PRODUCT_DETAIL',to.params.productIndex);\r\n        next();\r\n      }\r\n  }, {\r\n    path: '/cart',\r\n    name: '购物车',\r\n    components: {\r\n      default: cart,\r\n      header: header\r\n    }\r\n  }, {\r\n    path: '/login',\r\n    name: '登陆',\r\n    components:{\r\n      default: login,\r\n      header: header\r\n    }\r\n  }, {\r\n    path: '/register',\r\n    name: '注册',\r\n    components:{\r\n      default: register,\r\n      header: header\r\n    }\r\n  },{\r\n    path:'/pay',\r\n    name: '付款',\r\n    components:{\r\n      default: pay,\r\n      header: header\r\n    }\r\n  }]\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  if(to.path === '/login') {\r\n    next();\r\n  } else if(!store.state.hasLogin && to.path == '/user'){\r\n    console.log(from.path);\r\n    next('/login');\r\n  } else next();\r\n });\r\nexport default router\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/router.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport api from '@/api/api'\nimport VueAxios from 'vue-axios'\nimport router from '@/router/router'\nimport store from '@/vuex/store'\n\nVue.config.productionTip = false\nVue.use(VueAxios,api);\n\n/* eslint-disable no-new */\nnew Vue ({\n  el: '#app',\n  components: { App },\n  router,store,\n  template: `<App/>`,\n  methods: {\n    /*rem自适应*/\n    setHTMLFontSize() {\n      let HTMLClientWidth = document.documentElement.clientWidth ||\n      document.body.clientWidth;\n      document.documentElement.style.fontSize\n      = `${HTMLClientWidth / 3.75}px`;\n      return HTMLClientWidth;\n    }\n  },\n  created() {\n    const _self = this;\n    _self.setHTMLFontSize();\n    window.addEventListener(\"resize\",function(){\n      _self.setHTMLFontSize();\n    });\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}