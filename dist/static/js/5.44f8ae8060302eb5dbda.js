webpackJsonp([5],{HRxl:function(t,s){},Quw4:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});i("7+uW");var a={data:function(){return{username:"",password:"",isDisplayUNX:"hidden",isDisplayPWX:"hidden",fromPath:"/"}},watch:{username:function(){""!==this.username?this.isDisplayUNX="visible":this.isDisplayUNX="hidden"},password:function(){""!==this.password?this.isDisplayPWX="visible":this.isDisplayPWX="hidden"}},beforeRouteEnter:function(t,s,i){i(function(t){t.fromPath=s.fullPath})},beforeRouterUpdate:function(t,s,i){this.fromPath=s.fullPath,i()},methods:{clearInput:function(t){"string"==typeof t&&("username"===t?this.username="":"password"===t&&(this.password=""))},login:function(){var t=this;this.axios({method:"post",url:"/login",data:{un:this.username,pw:this.password}}).then(function(s){if(500==s.data.code)throw new Error("账号或密码错误");200==s.data.code&&(t.$store.commit("LOAD_USERNAME",{name:s.data.name,un:t.username}),t.$store.commit("CHANGE_LOGIN_TOKEN"),t.$router.push("/"))}).catch(function(s){console.error(s),t.$refs.tip.toShowDialog(!0)})}},components:{tipDialog:i("qmpc").a}},e={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"login"},[t._m(0),t._v(" "),i("form",{staticClass:"login-form",attrs:{name:"login"}},[i("div",{staticClass:"login-input-wrap"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"login-input",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}}),t._v(" "),i("span",{staticClass:"login__clear",style:{visibility:t.isDisplayUNX},on:{click:function(s){t.clearInput("username")}}},[t._v("✖")])]),t._v(" "),i("div",{staticClass:"login-input-wrap"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"login-input",attrs:{type:"password",placeholder:"请输入用户密码"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}}),t._v(" "),i("span",{staticClass:"login__clear",style:{visibility:t.isDisplayPWX},on:{click:function(s){t.clearInput("password")}}},[t._v("✖")])])]),t._v(" "),i("div",{staticClass:"other-link"},[i("router-link",{attrs:{to:"/register"}},[t._v("免费注册")]),t._v(" "),i("router-link",{attrs:{to:""}},[t._v("忘记密码")])],1),t._v(" "),i("button",{staticClass:"login-submit",on:{click:t.login}},[t._v("登录")]),t._v(" "),i("tip-dialog",{ref:"tip"},[t._v("您输入的账号或者密码错误")])],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"login-logo"},[s("img")])}]};var n=i("VU/8")(a,e,!1,function(t){i("T7aR")},"data-v-c3873b70",null);s.default=n.exports},T7aR:function(t,s){},qmpc:function(t,s,i){"use strict";var a={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDialog,expression:"isShowDialog"}],staticClass:"shadow"},[i("div",{staticClass:"dialog"},[i("div",{staticClass:"dialog-text"},[i("span",[t._t("default")],2)]),t._v(" "),i("div",{staticClass:"dialog-determine",on:{click:function(s){t.toShowDialog(!1)}}},[t._v("确定")])])])},staticRenderFns:[]};var e=i("VU/8")({data:function(){return{isShowDialog:!1}},methods:{toShowDialog:function(t){this.isShowDialog=t}}},a,!1,function(t){i("HRxl")},"data-v-73626a8b",null);s.a=e.exports}});
//# sourceMappingURL=5.44f8ae8060302eb5dbda.js.map