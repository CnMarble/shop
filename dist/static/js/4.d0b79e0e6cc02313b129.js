webpackJsonp([4],{"5Bms":function(t,s){},jpux:function(t,s){},m3cT:function(t,s){},pGxt:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=o("mvHQ"),c=o.n(e),i=(o("7+uW"),{name:"product-footer",computed:{productCache:function(){return this.$store.state.productCache},allPrice:function(){return void 0===this.$store.state.productCache.allPrice&&this.$store.commit("CART_PRODUCT_ALLPRICE",this.productCache.price),this.productCache.allPrice},showChooseType:function(){return this.$store.state.isEjectChooseType},pay:function(){return void 0!==this.productCache.type?"/pay":""}},methods:{addCart:function(){if(void 0!==this.productCache.type){var t=this.$store.state.chooseShop,s=t.name,o=t.shopID,e=JSON.parse(c()({name:s,shopID:o,checked:!1,products:[]}));e.products.push(this.$store.state.productCache),console.log(e),this.$store.commit("ADD_TO_CART",e),this.jumpToCart(),this.$store.commit("PRODUCT_CACHE")}else this.$store.commit("SHOW_CHOOSE_TYPE",!0)},jumpToCart:function(){this.$router.push("/cart?headName=购物车")},checkLogin:function(){this.$store.hasLogin||this.$router.push("/login")}}}),r={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"product-footer"},[s("div",{staticClass:"all-price"},[this._v("总价格："),s("span",{staticClass:"color-red"},[this._v(this._s(this.allPrice))])]),this._v(" "),s("div",{staticClass:"add-cart btn--a",on:{click:this.addCart}},[this._v("添加进购物车")])])},staticRenderFns:[]};var n=o("VU/8")(i,r,!1,function(t){o("jpux")},null,null).exports,a={computed:{product:function(){return this.$store.state.productCache},count:{get:function(){return this.product.count},set:function(t){t&&(this.$store.commit("CHANGE_PRODUCT_COUNT",parseInt(t)),this.computeAllPrice())}}},methods:{countSub:function(){this.$store.commit("CHANGE_PRODUCT_COUNT",this.product.count>1?this.product.count-1:1),this.computeAllPrice()},countplus:function(){this.$store.commit("CHANGE_PRODUCT_COUNT",this.product.count+1),this.computeAllPrice()},computeAllPrice:function(){this.$store.commit("CART_PRODUCT_ALLPRICE",this.product.price*this.product.count)}}},u={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"change-price"},[o("span",{staticClass:"count"},[o("button",{staticClass:"icon-subtract",on:{click:function(s){t.countSub()}}},[t._v("-")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],staticClass:"input-count",attrs:{type:"number"},domProps:{value:t.count},on:{input:function(s){s.target.composing||(t.count=s.target.value)}}}),t._v(" "),o("button",{staticClass:"icon-add",on:{click:function(s){t.countplus()}}},[t._v("+")])])])},staticRenderFns:[]};var d={name:"product-type",computed:{chooseProduct:function(){return this.$store.state.chooseProduct},productTypes:function(){return this.chooseProduct.types},allPrice:function(){return this.$store.state.productCache.allPrice}},methods:{chooseType:function(t,s){this.$store.commit("CHANGE_PRODUCT_CACHE",{key:"type",value:s})},showOff:function(t){"shadow"==t.target.className&&this.$store.commit("SHOW_CHOOSE_TYPE",!1)}},brdoreCreate:function(){this.$store.commit("SHOW_CHOOSE_TYPE",!1)},update:function(){this.$store.commit("SHOW_CHOOSE_TYPE",!1)},components:{CartCount:o("VU/8")(a,u,!1,function(t){o("5Bms")},"data-v-78544179",null).exports,ProductFooter:n}},p={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"shadow",on:{click:t.showOff}},[o("div",{staticClass:"product-type"},[o("div",{staticClass:"preview"},[o("img",{staticClass:"preview__pic",attrs:{src:t.chooseProduct.picSrc}}),t._v(" "),o("div",{staticClass:"preview__text"},[o("p",{staticClass:"price"},[t._v(t._s(t.allPrice))]),t._v(" "),o("p",{staticClass:"inventory"},[t._v(t._s(t.chooseProduct.inventory))]),t._v(" "),o("p",{staticClass:"choose-type"},[t._v("已选："+t._s(t.chooseProduct.name))])]),t._v(" "),o("CartCount")],1),t._v(" "),o("div",{staticClass:"type-list"},[o("form",t._l(t.productTypes,function(s,e){return o("div",{staticClass:"type-list__item"},[o("input",{attrs:{id:e,name:"product-types",type:"radio"},on:{click:function(o){t.chooseType(o,s)}}}),t._v(" "),o("label",{attrs:{for:e}},[t._v(t._s(s))])])}))]),t._v(" "),o("ProductFooter")],1)])},staticRenderFns:[]};var h={name:"product",computed:{chooseProduct:function(){return this.$store.state.chooseProduct},isEject:function(){return this.$store.state.isEjectChooseType}},methods:{showChooseType:function(){this.$store.commit("SHOW_CHOOSE_TYPE",!0)}},created:function(){this.$store.commit("SHOW_CHOOSE_TYPE",!1)},update:function(){this.$store.commit("SHOW_CHOOSE_TYPE",!1)},components:{chooseProductType:o("VU/8")(d,p,!1,function(t){o("m3cT")},"data-v-0fb51e2c",null).exports,ProductFooter:n}},l={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"product"},[o("div",{staticClass:"product-pic"},[o("img",{attrs:{src:t.chooseProduct.picSrc}})]),t._v(" "),o("div",{staticClass:"product-text"},[o("div",{staticClass:"title"},[t._v(t._s(t.chooseProduct.name))]),t._v(" "),o("div",{staticClass:"price"},[t._v(t._s(t.chooseProduct.price))]),t._v(" "),o("div",{staticClass:"other"},[o("span",[t._v("快递费："+t._s(t.chooseProduct.expressPrice))]),t._v(" "),o("span",[t._v("月销量："+t._s(t.chooseProduct.monthlySales))]),t._v(" "),o("div",[t._v("地址："+t._s(t.chooseProduct.address))])])]),t._v(" "),o("div",{staticClass:"btn--choose-type",on:{click:t.showChooseType}},[o("i",{staticClass:"iconfont"},[t._v("")]),t._v("请选择商品类型")]),t._v(" "),o("div",{staticClass:"product-detail"},[t._v(t._s(t.chooseProduct.detail))]),t._v(" "),o("chooseProductType",{directives:[{name:"show",rawName:"v-show",value:t.isEject,expression:"isEject"}]}),t._v(" "),o("ProductFooter")],1)},staticRenderFns:[]};var _=o("VU/8")(h,l,!1,function(t){o("qVCV")},"data-v-6edd84f0",null);s.default=_.exports},qVCV:function(t,s){}});
//# sourceMappingURL=4.d0b79e0e6cc02313b129.js.map